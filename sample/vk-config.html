<script type="text/javascript">
    RED.nodes.registerType('vk-config', {
      category: 'config',
      icon: 'vk.png',
      defaults: {
        name: { value:"" },
        token: { value: '', required: true },
        secret: { value : ""},
        apiVersion: { value: '5.130' }
      },
      label: function () {
        return this.name || 'VK Configuration';
      },
      oneditprepare: function () {
        var node = this;
        $('#node-input-name').val(node.name);
        $('#node-input-token').val(node.token);
        $('#node-input-secret').val(node.secret);
        $('#node-input-apiVersion').val(node.apiVersion);
      },
      oneditcancel: function () {
        // Сбросить значения при отмене редактирования
        $('#node-input-token').val('');
        $('#node-input-apiVersion').val('5.130');
      },
      oneditsave: function () {
        // Сохранить значения при сохранении настроек
        this.name = $('#node-input-name').val().trim();
        this.token = $('#node-input-token').val().trim();
        this.secret = $('#node-input-secret').val().trim();
        this.apiVersion = $('#node-input-apiVersion').val().trim();
      }
    });
  </script>
  
  <script type="text/html" data-template-name="vk-config">
    <div class="form-row">
      <label for="node-input-name">
        <i class="fa fa-tag"></i> Имя
      </label>
      <input type="text" id="node-input-name" placeholder="Имя">
    </div>
  
    <div class="form-row">
      <label for="node-input-token">
        <i class="fa fa-key"></i> Токен
      </label>
      <input type="text" id="node-input-token" placeholder="Токен" required>
    </div>
    <div class="form-row">
      <label for="node-input-token">
        <i class="fa fa-key"></i> Secret
      </label>
      <input type="text" id="node-input-secret" placeholder="Secret">
    </div>
    
    <div class="form-row">
      <label for="node-input-apiVersion">
        <i class="fa fa-code"></i> Версия API
      </label>
      <input type="text" id="node-input-apiVersion" placeholder="Версию API">
    </div>
  </script>
  